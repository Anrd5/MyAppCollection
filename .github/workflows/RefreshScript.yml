name: Download and Replace JSON

on:
  workflow_dispatch: {}

jobs:
  download-replace-json:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository (for downloading script)
        uses: actions/checkout@v4

      - name: Download automation script
        run: |
          curl -fsSL -o automation-main.sh "https://raw.githubusercontent.com/YOUR_USERNAME/YOUR_REPO/main/automation-main.sh"
          chmod +x automation-main.sh

      - name: [OPTIONAL] Upload script to Android device and execute
        # Note: In production, you need a self-hosted runner or adb access.
        run: |
          # e.g., adb push automation-main.sh /data/data/com.termux/files/home/
          # adb shell "cd /data/data/com.termux/files/home && bash automation-main.sh json"

      - name: [DOCUMENT] Manual Step Needed
        run: |
          echo "Please deploy automation-main.sh to your Termux installation and run: ./automation-main.sh json"
